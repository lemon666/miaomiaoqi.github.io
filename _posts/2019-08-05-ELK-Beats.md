---
layout: post
title: "ELK-Beats"
categories: [BigData]
description:
keywords:
---

* content
{:toc}     


## Beats

Lightweight Data Shipper, 轻量级的数据传送者, 为 ELK 传送数据官方提供了如下几种 Beats

* Filebeat: 日志文件
* Metricbeat: 度量数据
* Packetbeat: 网络数据
* Winlogbeat: Windows数据
* Heartbeat: 健康检查

## Filebeat

Input 输入数据 -> Filter 过滤数据 -> Output 输出数据

![http://www.milky.show/images/bigdata/beat/beat_1.png](http://www.milky.show/images/bigdata/beat/beat_1.png)

### Filebeat Input 配置

yaml 语法

```yaml
filebeat.prospectors:
  - input_type: log
    paths:
      - /var/log/apache/httpd-*.log
  - input_type: log
  	paths:
  	  - /var/log/messages
  	  - /var/log/*.log
```

Input_type: log, stdin



### Filebeat Output 配置

Console, Elasticsearch, Logstash, Kafka, Reids, File

```yaml
output.elasticsearch:
  hosts: ["http://localhost:9200"]
  username: "admin"
  password: "xxxx"
```

```yaml
output.console:
  pretty: true
```



### Filebeat Filter 配置

Input 时处理: Include_lines, exclude_lines, exclude_files

Output 前处理(Processor): drop_event, drop_fields, Decode_json_fields, Include_fields

```yaml
processors:
  - drop_event:
      when:
        regexp:
          message: "^DBG:"
```

