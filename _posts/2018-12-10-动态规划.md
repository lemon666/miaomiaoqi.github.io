---
layout: post
title:  "动态规划"
date:   2018-12-10 11:27:41
categories: Algorithm
tags: 动态规划
author: miaoqi
---

* content
{:toc}
## 首先看一道题目

* 有一座高度是**10**级台阶的楼梯，从下往上走，每跨一步只能向上**1**级或者**2**级台阶。要求用程序来求出一共有多少种走法。

	比如，每次走1级台阶，一共走10步，这是其中一种走法。我们可以简写成 1,1,1,1,1,1,1,1,1,1。

	再比如，每次走2级台阶，一共走5步，这是另一种走法。我们可以简写成 2,2,2,2,2。

## 动态规划

* 动态规划的英文名是Dynamic Programming, 是一种分阶段求解决策问题的数学思想. 它不止用于编程领域, 也应用于管理学, 经济学, 生物学.

	总结一句话就是**大事化小, 小事化了**

* 以刚才的题目来说, 假设只差最后一步就走到第10级台阶了, 这时候会有几种情况呢?

	答案是两种情况, 因为每一步只许走1级或是2级. 第一种是从9级走到10级, 第二种是从8级走到10级

* 接下来引出一个新的问题, 如果我们已知0到9级台阶走法有X种, 0到8级台阶有Y中走法, 那么0到10级台阶的走法有多少种?

	10级台阶的走法可以根据最后一步的不同而分为两部分, 第一部分的最后一步是从9级到10级, 这部分的走法数量和9级台阶的走法数量是相等的, 也就是X

	第二部分是最后一步从8级到10级, 这部分的走法数量和8级台阶的走法数量是相等的, 也就是Y.

	这两部分相加, 总的走法数量就是X + Y

	![http://www.miaomiaoqi.cn/images/algorithm/dynamic_1.png](http://www.miaomiaoqi.cn/images/algorithm/dynamic_1.png)

	为了方便表达, 我们把10级台阶的走法数量简写为F(10), 此时F(10) = F(9) + F(8), 那么如何计算F(9)和F(8)呢?

	利用刚才的思路可以很容易推断出:

	F(9) = F(8) + F(7), F(8) = F(7) + F(6)

	**我们正在把一个复杂分阶段进行简化, 逐步简化成简单问题, 这就是动态规划的思想.**

	当只有1级台阶和2级台阶的时候, 有几种走法呢?显然分别是1和2, 由此可以归纳出如下的公式:

	* F(1) = 1

		F(2) = 2
		F(n) = F(n - 1) + F(n - 2) (n >= 3)

	动态规划当中包含了三个重要的概念:

	* 最优子结构

		刚才我们分析出F(10) = F(9) + F(8), 因此F(9)和F(8)是F(10)的最**优子结构**

	* 边界

		当只有1级台阶或2级台阶时, 我们可以直接得出结果, 无需继续简化. 我们称F(1)和F(2)是问题的**边界**, 如果一个问题没有边界, 将永远无法得到有限的结果

	* 状态转移公式

		F(n) = F(n - 1) + F(n - 2) 是阶段与阶段之间的**状态转移方程**, 这是动态规划的核心, 决定了问题每一个阶段和下一阶段的关系

	以上是动态规划的前半部分: **问题建模**, 接下来是真正麻烦的阶段: **问题求解**

	* 方法一: 递归求解

		要计算出F(N), 首先要得到F(N - 1)和F(N - 2)的值. 要计算F(N - 1)就要得到F(N - 2)和F(N - 3)的值...以此类推, 可以归纳成下面的图

		![http://www.miaomiaoqi.cn/iamges/algorithm/dynamic_2.png](http://www.miaomiaoqi.cn/iamges/algorithm/dynamic_2.png)

		这就是一颗二叉树, 树的节点个数就是我们的递归方法所需要计算的次数.

		不难看出这颗树的高度是N - 1, 节点个数接近2的N - 1次方. 所以方法的时间复杂度可以近似的看作是O(2 ^ N)

		上述图中存在大量的重复计算的值.

		![http://www.miaomiaoqi.cn/iamges/algorithm/dynamic_3.png](http://www.miaomiaoqi.cn/iamges/algorithm/dynamic_3.png)

		可以使用哈希表每次把不同参数的计算结果存入哈希. 当遇到相同参数时, 再从哈希表中取出, 就不用重复计算了.


