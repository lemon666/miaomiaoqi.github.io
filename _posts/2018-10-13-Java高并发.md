---
layout: post
title:  "Java高并发程序设计"
date:   2018-10-13 10:58:21
categories: Java
tags: Concurrency
author: miaoqi
---

* content
{:toc}

## 基本概念

* 并发

    同时拥有两个或者多个线程, 如果程序在单核处理器上运行, 多个线程将交替地换入或者换出内存, 这些线程是同时"存在"的, 每个线程都处于执行过程中的某个状态, 如果运行在多核处理器上, 此时, 程序中的每个线程都将分配到一个处理器核上, 因此可以同时运行

    多个线程操作相同的资源, **保证线程安全**, 合理使用资源

* 高并发

    高并发(High Concurrency)是互联网分布式系统架构设计中必须考虑的因素之一, 它通常是指, 通过设计保证系统能够**同时并行处理**很多请求

    服务能同时处理很多请求, **提高程序性能**

* CPU多级缓存

    CPU的频率太快了, 快到主存跟不上, 这样在处理器时钟周期内, CPU常常需要等待主存, 浪费资源. 所以Cache出现, 是为了缓解CPU和内存之间速度的不匹配问题(结构: cpu -> cache -> memory)

    * CPU Cache有什么意义

        1. 时间局部性: 如果某个数据被访问, 那么在不久的将来它可能再次被访问

        1. 空间局部性: 如果某个数据被访问, 那么与它相邻的数据很快也可能被访问

    * 缓存一致性(MESI)

        用于保证多个CPU Cache之间缓存共享数据的一致

        ![http://www.miaomiaoqi.cn/images/concurrency/1.png](http://www.miaomiaoqi.cn/images/concurrency/1.png)

* CPU乱序执行优化

    
    
    
    
    
    
    