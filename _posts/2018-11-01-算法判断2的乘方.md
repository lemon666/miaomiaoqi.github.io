---
layout: post
title:  "算法-找出缺失的整数"
date:   2018-11-01 17:50:50
categories: Algorithm
tags: 算法题
author: miaoqi
---

* content
{:toc} 

## 题目

实现一个方法，判断一个正整数是否是2的乘方（比如16是2的4次方，返回True；18不是2的乘方，返回False）。要求性能尽可能高。

* 解法一：

    创建一个中间变量Temp，初始值是1。然后进入一个循环，循环中每次让Temp和目标整数比较，如果相等，则说明目标整数是2的乘方；如果不相等，则让Temp增大一倍，继续循环比较。当Temp大于目标整数时，说明目标整数不是2的乘方。

    如果目标整数的大小是N，则此方法的时间复杂度是O（LogN）。

* 解法二:

    非常有趣也非常简单的解法。因为2的乘方都符合一个规律，即 N&N-1 等于 0，所以直接用这个规律判断即可。该算法时间复杂度是O（1）。

    |十进制|二进制|是否2的乘方|
    |---|---|---|
    |8|1000B|是|
    |16|10000B|是|
    |32|100000B|是|
    |64|1000000B|是|
    |100|1100100B|否|

    如果一个整数是2的乘方, 那么转成2进制的时候只有最高位是1, 如果把这些二进制都减去1会有什么效果呢?

    十进制|二进制|N-1|是否2的乘方|
    |---|---|---|---|
    |8|1000B|111B|是|
    |16|10000B|1111B|是|
    |32|100000B|11111B|是|
    |64|1000000B|111111B|是|
    |100|1100100B|1100011B|否|

    如果减去1, 那么整个数减少一位, 其他位由0变成1

    如果这时候我们用2的乘方本身和它减一的结果进行按位与运算, 也就是N & N-1
    
    |十进制|二进制|N-1|N&N-1|是否2的乘方|
    |---|---|---|---|---|
    |8|1000B|111B|0|是|
    |16|10000B|1111B|0|是|
    |32|100000B|11111B|0|是|
    |64|1000000B|111111B|0|是|
    |100|1100100B|1100011B|1100000B|否|

    0与1的按位与的结果是0, 所以凡是2的乘方和它本身减一相与, 即N & N-1结果必然是0





