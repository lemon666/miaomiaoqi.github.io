---
layout: post
title:  "Java正则"
date:   2018-09-06 17:55:12
categories: Java
tags: Regex
author: miaoqi
---

* content
{:toc} 

## 简介

* 正则表达式定义了字符串的模式。

* 正则表达式可以用来搜索、编辑或处理文本。

* 正则表达式并不仅限于某一种语言，但是在每种语言中有细微的差别。

### 正则示例

* 匹配

    匹配。15800001111

        public static void functionDemo_1(){
            //匹配手机号码是否正确。
            String tel = "15800001111";
            String regex = "1[358]\\d{9}";
            boolean b = tel.matches(regex);
            System.out.println(tel+":"+b);
        }

* 切割

    切割。按照重复字符切割zhangsanttttxiaoqiangmmmmmmzhaoliu

        public static void functionDemo_2(){
            String str = "zhangsanttttxiaoqiangmmmmmmzhaoliu";
            String[] names = str.split("(.)\\1+");//str.split("\\.");
            for(String name : names){
            	System.out.println(name);
            }
        }

    正则中()代表了组的概念, \\1, 代表引用组实际匹配到的值而非这个组的正则

* 替换

        public static void functionDemo_3() {
            String str = "zhangsanttttxiaoqiangmmmmmmzhaoliu";
            str = str.replaceAll("(.)\\1+", "$1");
            System.out.println(str);
            String tel = "15800001111";//158****1111;
            tel = tel.replaceAll("(\\d{3})\\d{4}(\\d{4})", "$1****$2");
            System.out.println(tel);
    	}

    $1代表引用组匹配到的内容

* 查找
        
        public  static void functionDemo_4() {
            String str = "da jia hao,ming tian bu fang jia!";
            String regex = "\\b[a-z]{3}\\b";
            //1,将正则封装成对象。
            Pattern p = Pattern.compile(regex);
            //2, 通过正则对象获取匹配器对象。 
            Matcher m = p.matcher(str);
            //使用Matcher对象的方法对字符串进行操作。
            //既然要获取三个字母组成的单词 
            //查找。 find();
            System.out.println(str);
            while(m.find()){
                System.out.println(m.group());//获取匹配的子序列
                System.out.println(m.start()+":"+m.end());
            }
        }

* 治疗口吃

        public static void my_test_1() {
            String str = "我我...我我...我我我要...要要要要...要要要要..学学学学学...学学编编...编编编编..编..程程...程程...程程程";
            str = str.replaceAll("\\.+", "");
            System.out.println(str);
    
            str = str.replaceAll("(.)\\1+", "$1");
            System.out.println(str);
        }

* ip地址排序

        public static void my_test_2() {
            String ips = "192.168.10.34    127.0.0.1   3.3.3.3   105.70.11.55";
            ips = ips.replaceAll("(\\d+)", "00$1");
            System.out.println(ips);
    
            ips = ips.replaceAll("0*(\\d{3})", "$1");
            System.out.println(ips);
    
            Set<String> set = new TreeSet<>(Comparator.reverseOrder());
            for (String s : ips.split(" +")) {
                set.add(s);
            }
            set.stream().forEach(s -> {
                System.out.println(s.replaceAll("0*(\\d+)", "$1"));
            });
        }

* 校验邮箱

        public static void my_test_3() {
            String email = "abc1@sina.com.cn";
            String regex = "[a-zA-Z_0-9]+@[a-zA-Z_0-9]+(\\.[a-zA-Z]{1,3})+";
            regex = "\\w+@\\w+(\\.[a-zA-Z]{1,3})+";
            System.out.println(email.matches(regex));
        }

### 正则回溯问题





