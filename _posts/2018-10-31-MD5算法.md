---
layout: post
title:  "MD5算法"
date:   2018-10-31 18:38:27
categories: Algorithm
tags: 加密算法
author: miaoqi
---

* content
{:toc} 

## 简介

在网络传输中, 为了网络传输安全所做的[信息摘要]签名, 签名通常是用[MD5算法]来生成的, 例如转账功能中我们的产品向第三方支付平台发起支付请求, 金额是1元, 目标账户是1234, 但网络传输并非安全的, 一旦传输过程中被坏人拦截了, 就会造成信息被篡改, 金额是100元, 目标账户是5678, 对用户造成损失, 这种时候就需要信息摘要技术了, **信息摘要把明文内容按照某种规则生成一段哈希值, 即时明文消息只改动一点点, 生成的结果也会完全不同. MD5就是信息摘要的一种实现, 它可以从任意长度的明文字符串生成128位的哈希值.**

## 使用信息摘要通信的过程

摘要哈希生成的正确姿势是什么样呢？分三步：

1. 收集相关业务参数，在这里是金额和目标账户。当然，实际应用中的参数肯定比这多得多，这里只是做了简化。

1. 按照规则，把参数名和参数值拼接成一个字符串，同时把给定的密钥也拼接起来。之所以需要密钥，是因为攻击者也可能获知拼接规则。

1. 利用MD5算法，从原文生成哈希值。MD5生成的哈希值是128位的二进制数，也就是32位的十六进制数。

第三方支付平台如何验证请求的签名？同样分三步：

1. 发送方和请求方**约定相同的字符串拼接规则，约定相同的密钥。**

1. 第三方平台接到支付请求，按规则拼接业务参数和密钥，利用MD5算法生成Sign。

1. 用第三方平台自己生成的Sign和请求发送过来的Sign做对比，如果两个Sign值一模一样，则签名无误，如果两个Sign值不同，则信息做了篡改。这个过程叫做验签。







